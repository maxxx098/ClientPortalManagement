import{r as h,j as e,L as u}from"./app-Bnkg_R6e.js";import{C as r,a as d,b as i,c as a,d as k,e as C}from"./card-DwGzBwsB.js";import{B as T}from"./badge-DIoL08Xj.js";import{B as q,A as G,S as L,a as M,C as A,b as H,c as R,d as S,R as X,P as J,e as D}from"./chart-DO1JJlbZ.js";import{A as Q}from"./app-layout-CJpzP-vK.js";import{F as _}from"./app-sidebar-header-CEjx-qTJ.js";import{C as P}from"./clock-c-VfPZLC.js";import{C as Z}from"./circle-check-4sxbrDc2.js";import{P as ee}from"./plus-hvYSpbLW.js";import{C as se}from"./calendar-DRvwWHG-.js";import{C as te}from"./circle-alert-CbBDPQza.js";import{C as re,X as ae,Y as le,B,L as ne}from"./generateCategoricalChart-Dwcuivg1.js";import{T as E}from"./trending-up-BPB2ATXg.js";/* empty css            */import"./createLucideIcon-DNcdlP6E.js";import"./index-C93J2Ucv.js";import"./index-C0YS4r49.js";import"./index-kHAuEXaX.js";import"./index-CMWG4mbA.js";import"./index-D329iiHL.js";import"./Logo-Cmirgiq5.js";function De({stats:t,recentClients:oe,recentProjects:j,recentTasks:b,overdueTasks:de,recentActivity:f,projectsByStatus:ie,tasksByStatus:ce}){const K=()=>{const s=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],n=t.tasks.total,o=Math.ceil(n/7);return s.map((c,g)=>{const m=Math.random()*.4+.8,x=Math.max(1,Math.floor(o*m)),Y=Math.floor(x*(Math.random()*.3+.6));return{month:c,created:x,completed:Y}})},N=s=>({active:"bg-emerald-500/10 text-emerald-400 border-emerald-500/20",inactive:"bg-slate-500/10 text-slate-400 border-slate-500/20",planned:"bg-blue-500/10 text-blue-400 border-blue-500/20",in_progress:"bg-amber-500/10 text-amber-400 border-amber-500/20",on_hold:"bg-orange-500/10 text-orange-400 border-orange-500/20",completed:"bg-emerald-500/10 text-emerald-400 border-emerald-500/20",todo:"bg-slate-500/10 text-slate-400 border-slate-500/20",done:"bg-emerald-500/10 text-emerald-400 border-emerald-500/20",pending:"bg-amber-500/10 text-amber-400 border-amber-500/20",overdue:"bg-red-500/10 text-red-400 border-red-500/20"})[s]||"bg-slate-500/10 text-slate-400 border-slate-500/20",v=s=>s?new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"No date",$=s=>{if(!s)return"N/A";const n=new Date,o=new Date(s),c=n.getTime()-o.getTime(),g=Math.floor(c/6e4),m=Math.floor(c/36e5),x=Math.floor(c/864e5);return g<60?`${g}m ago`:m<24?`${m}h ago`:`${x}d ago`},l=t.tasks.total>0?Math.round(t.tasks.completed/t.tasks.total*100):0;t.projects.total>0&&Math.round(t.projects.completed/t.projects.total*100);const U=new Date().toLocaleDateString("en-US",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),[y,w]=h.useState(!1),p=h.useRef(null),[z]=h.useState(K()),F={created:{label:"Created",color:"hsl(var(--chart-1))"},completed:{label:"Completed",color:"hsl(var(--chart-2))"}},O=[{month:"current",completed:l,pending:100-l}],I={completed:{label:"Completed",color:l>=75?"hsl(142, 76%, 36%)":l>=50?"hsl(38, 92%, 50%)":"hsl(0, 84%, 60%)"},pending:{label:"Pending",color:"hsl(var(--muted))"}};h.useEffect(()=>{function s(n){p.current&&!p.current.contains(n.target)&&w(!1)}return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[]);const V=()=>e.jsxs(r,{children:[e.jsx(d,{className:"pb-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx(i,{className:"text-foreground text-lg",children:"Task Activity"}),e.jsx(k,{className:"text-muted-foreground text-xs mt-1",children:"Last 7 days overview"})]})})}),e.jsx(a,{children:e.jsx(A,{config:F,className:"h-64 w-full",children:e.jsxs(H,{accessibilityLayer:!0,data:z,margin:{top:10,right:10,left:-20,bottom:0},children:[e.jsx(re,{strokeDasharray:"3 3",vertical:!1}),e.jsx(ae,{dataKey:"month",tickLine:!1,tickMargin:10,axisLine:!1}),e.jsx(le,{tickLine:!1,axisLine:!1}),e.jsx(R,{cursor:!1,content:e.jsx(S,{hideLabel:!0})}),e.jsx(B,{dataKey:"created",fill:"var(--color-created)",radius:[4,4,0,0],maxBarSize:40}),e.jsx(B,{dataKey:"completed",fill:"var(--color-completed)",radius:[4,4,0,0],maxBarSize:40})]})})}),e.jsxs(C,{className:"flex-col items-start gap-2 text-sm",children:[e.jsxs("div",{className:"flex gap-2 leading-none font-medium",children:[t.tasks.completed>t.tasks.pending?"Trending up":"Keep going"," ",e.jsx(E,{className:"h-4 w-4"})]}),e.jsx("div",{className:"text-muted-foreground leading-none",children:"Task creation and completion for the last week"})]})]}),W=()=>e.jsxs(r,{className:"flex flex-col",children:[e.jsxs(d,{className:"items-center pb-0",children:[e.jsx(i,{className:"text-foreground text-base",children:"Overall Efficiency"}),e.jsx(k,{className:"text-muted-foreground text-xs",children:"This week"})]}),e.jsx(a,{className:"flex flex-1 items-center pb-0",children:e.jsx(A,{config:I,className:"mx-auto aspect-square w-full max-w-[250px]",children:e.jsxs(X,{data:O,startAngle:90,endAngle:-270,innerRadius:80,outerRadius:130,children:[e.jsx(R,{cursor:!1,content:e.jsx(S,{hideLabel:!0})}),e.jsx(J,{tick:!1,tickLine:!1,axisLine:!1,children:e.jsx(ne,{content:({viewBox:s})=>{if(s&&"cx"in s&&"cy"in s)return e.jsxs("text",{x:s.cx,y:s.cy,textAnchor:"middle",children:[e.jsxs("tspan",{x:s.cx,y:(s.cy||0)-10,className:"fill-foreground text-3xl font-bold",children:[l,"%"]}),e.jsx("tspan",{x:s.cx,y:(s.cy||0)+15,className:"fill-muted-foreground text-xs",children:"Completion Rate"})]})}})}),e.jsx(D,{dataKey:"completed",stackId:"a",cornerRadius:10,fill:"var(--color-completed)",className:"stroke-transparent stroke-2"}),e.jsx(D,{dataKey:"pending",fill:"var(--color-pending)",stackId:"a",cornerRadius:10,className:"stroke-transparent stroke-2"})]})})}),e.jsxs(C,{className:"flex-col gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 leading-none font-medium",children:[l>=75?"Excellent progress!":l>=50?"Good momentum":"Room for improvement"," ",e.jsx(E,{className:"h-4 w-4"})]}),e.jsxs("div",{className:"text-muted-foreground leading-none",children:["Based on ",t.tasks.total," total tasks"]})]})]});return e.jsx(Q,{children:e.jsx("div",{className:"min-h-screen",children:e.jsxs("div",{className:"container mx-auto p-6 lg:p-8 space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4 pb-6 border-b border-border/50",children:[e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center gap-3 mb-2",children:e.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard Overview"})}),e.jsx("p",{className:"text-muted-foreground text-sm",children:U})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search here...",className:"px-4 py-2.5 pl-10 border rounded-xl bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/50 w-64"}),e.jsx("svg",{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),e.jsxs("div",{className:"relative",ref:p,children:[e.jsxs("button",{onClick:()=>w(!y),className:"relative p-2.5 border rounded-xl bg-background hover:bg-muted transition-colors",children:[e.jsx(q,{className:"w-5 h-5 text-muted-foreground"}),f.length>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full"})]}),y&&e.jsxs("div",{className:"absolute right-0 mt-3 w-80 bg-popover border border-border rounded-xl shadow-lg z-50 animate-in fade-in slide-in-from-top-1",children:[e.jsxs("div",{className:"p-3 border-b border-border flex justify-between items-center",children:[e.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Messages"}),e.jsx(u,{href:"#",className:"text-xs text-muted-foreground hover:text-foreground",children:"View all"})]}),e.jsx("div",{className:"max-h-80 overflow-y-auto",children:f.length===0?e.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[e.jsx(G,{className:"w-10 h-10 opacity-30 mx-auto mb-2"}),e.jsx("p",{className:"text-xs",children:"No new messages"})]}):f.slice(0,5).map(s=>e.jsxs("div",{className:"flex items-start gap-3 p-3 hover:bg-muted/30 transition-colors",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white font-semibold text-xs",children:s.description.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-foreground font-medium line-clamp-2",children:s.description.split(" ").slice(0,6).join(" ")}),e.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:$(s.timestamp)})]})]},s.id))})]})]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(r,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium",children:"Total Projects"}),e.jsx(_,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(a,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.projects.total}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[t.projects.active," active projects"]})]})]}),e.jsxs(r,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium",children:"Total Tasks"}),e.jsx(L,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(a,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.tasks.total}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[t.tasks.in_progress," in progress"]})]})]}),e.jsxs(r,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium",children:"Pending Tasks"}),e.jsx(P,{className:"h-4 w-4 text-amber-500"})]}),e.jsxs(a,{children:[e.jsx("div",{className:"text-2xl font-bold text-amber-600",children:t.tasks.pending}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[t.tasks.overdue," overdue"]})]})]}),e.jsxs(r,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium",children:"Completed"}),e.jsx(Z,{className:"h-4 w-4 text-green-500"})]}),e.jsxs(a,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.tasks.completed}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[l,"% completion rate"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Active Projects"}),e.jsxs(u,{href:"/admin/projects",className:"text-sm text-primary hover:underline flex items-center gap-1",children:["View all",e.jsx(M,{className:"w-4 h-4"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:j.length===0?e.jsx("div",{className:"col-span-full",children:e.jsx(r,{children:e.jsxs(a,{className:"text-center py-16 text-muted-foreground",children:[e.jsx(_,{className:"w-16 h-16 opacity-30 mx-auto mb-4"}),e.jsx("p",{className:"text-sm pb-3.5",children:"No projects yet"}),e.jsxs(u,{href:"/admin/projects",className:"inline-flex items-center gap-2 rounded-md border px-3 py-2 text-sm hover:bg-muted transition-colors",children:[e.jsx(ee,{className:"h-4 w-4"}),"Create your first project"]})]})})}):j.map(s=>e.jsx(r,{className:"hover:bg-background/50 transition-colors cursor-pointer",children:e.jsxs(a,{className:"p-5",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-foreground text-sm mb-2 line-clamp-2",children:s.name}),s.client_key&&e.jsx("p",{className:"text-xs text-muted-foreground",children:s.client_key.name})]}),e.jsx(T,{className:`${N(s.status)} border text-[10px] px-2 py-0.5 ml-2`,children:s.status})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between text-xs mb-2",children:[e.jsxs("span",{className:"text-muted-foreground",children:[s.tasks_count||0," Tasks"]}),e.jsxs("span",{className:"text-foreground font-semibold",children:[s.progress||0,"%"]})]}),e.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all duration-700 ${(s.progress||0)>=75?"bg-gradient-to-r from-emerald-500 to-teal-500":(s.progress||0)>=50?"bg-gradient-to-r from-amber-500 to-orange-500":"bg-gradient-to-r from-red-500 to-rose-500"}`,style:{width:`${s.progress||0}%`}})})]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-border/50",children:[e.jsx("div",{className:"flex -space-x-2",children:[...Array(Math.min(3,Math.floor(Math.random()*5)+1))].map((n,o)=>e.jsx("div",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 border-2 border-muted flex items-center justify-center text-white text-xs font-medium",children:(s.client_key?.name?.charAt(o)??s.name?.charAt(o)??"?").toUpperCase()},o))}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(se,{className:"w-3.5 h-3.5"}),v(s.due_date)]})]})]})]})},s.id))})]}),e.jsx(V,{})]}),e.jsxs("div",{className:"lg:col-span-1 space-y-6 ",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Your Tasks"}),e.jsxs(u,{href:"/admin/tasks",className:"text-sm text-primary hover:underline flex items-center gap-1",children:["View all",e.jsx(M,{className:"w-4 h-4"})]})]}),e.jsxs(r,{className:"bg-muted/30 p-6 border-0",children:[e.jsx("div",{className:"space-y-3 ",children:b.length===0?e.jsx(r,{children:e.jsxs(a,{className:"text-center py-12 text-muted-foreground",children:[e.jsx(L,{className:"w-12 h-12 opacity-30 mx-auto mb-3"}),e.jsx("p",{className:"text-sm",children:"No tasks yet"})]})}):b.slice(0,1).map(s=>e.jsx(r,{className:"hover:bg-background/50 transition-colors cursor-pointer",children:e.jsxs(a,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[e.jsx("h3",{className:"font-semibold text-foreground text-sm flex-1 line-clamp-2",children:s.title}),e.jsx(T,{className:`${N(s.status)} border text-[10px] px-2 py-0.5 flex-shrink-0`,children:s.status==="in_progress"?"Progress":s.status==="todo"?"Pending":s.status})]}),s.client_key&&e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:s.client_key.name}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(P,{className:"w-3 h-3"}),v(s.created_at)]}),s.status==="overdue"&&e.jsxs("span",{className:"text-red-400 flex items-center gap-1",children:[e.jsx(te,{className:"w-3 h-3"}),"Overdue"]})]})]})},s.id))}),e.jsx(W,{})]})]})]})]})})})}export{De as default};
