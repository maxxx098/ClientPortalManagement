import{r as h,j as e,L as F,b as g}from"./app-Ck5WeuDF.js";import{a as R,B as y}from"./createLucideIcon-B_bktm_V.js";import{I as o}from"./input-CUw1qsVt.js";import{T as A}from"./textarea-BWAqC_mb.js";import{D as se,a as ae,b as re,c as le,d as ie,e as ne}from"./dialog-OqLuxiCo.js";import{A as oe}from"./app-layout-DoQbwlH_.js";import{A as de}from"./arrow-left-COZwlZXk.js";import{P as L}from"./plus-C_1lLlVA.js";import{T as P}from"./trash-2-Ccc7LcjO.js";import{A as $}from"./arrow-up-right-w28fp5fE.js";import{C as q}from"./index-DbRe66M7.js";import{C as z}from"./calendar-DFfyr8YL.js";import{S as ce}from"./app-sidebar-header-DZLkAQAh.js";import{C as xe}from"./circle-check--o0-QHLy.js";import{D as me}from"./download-jtyqmQZb.js";import{I as he}from"./info-CBVzdTaB.js";import{F as T}from"./file-text-DGqMEeyL.js";/* empty css            */import"./app-sidebar-DDhbTrZc.js";import"./index-CN8Djskw.js";import"./index-_ENhd-2p.js";import"./index-D329iiHL.js";import"./index-CMWG4mbA.js";import"./Logo-Cmirgiq5.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],be=R("Paperclip",pe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],ge=R("Settings2",ue);function Ve({invoices:b,clients:f=[],stats:j,monthlyRevenue:fe,filters:p}){const[k,U]=h.useState(""),[E,N]=h.useState(!1),[C,M]=h.useState(!1),[x,S]=h.useState([]),[d,O]=h.useState(b.data[0]?.id||null),[s,i]=h.useState({client_key:"",invoice_date:"",due_date:"",amount:"",status:"unpaid",notes:"",internal_notes:"",tax_rate:"0",discount:"0",payment_terms:"Net 30",items:[{description:"",quantity:1,rate:0}]}),[r,m]=h.useState({status:p?.status||"",client_key:p?.client_key||"",date_from:p?.date_from||"",date_to:p?.date_to||"",amount_min:p?.amount_min||"",amount_max:p?.amount_max||""}),v=b.data.filter(t=>{const a=k.toLowerCase();return t.invoice_number?.toLowerCase().includes(a)||t.clientKey?.name?.toLowerCase().includes(a)||t.status?.toLowerCase().includes(a)}),l=v.find(t=>t.id===d)||v[0],V=t=>{if(t.preventDefault(),!s.client_key){alert("Please select a client");return}if(s.items.length===0||!s.items[0].description){alert("Please add at least one item");return}const a=w(),n=parseFloat(s.tax_rate)||0,c=a*(n/100),Y=parseFloat(s.discount)||0,Z=a+c-Y,ee={...s,subtotal:a.toFixed(2),tax_amount:c.toFixed(2),amount:Z.toFixed(2)};g.post(`/admin/clients/${s.client_key}/invoices`,ee,{onSuccess:()=>{i({client_key:"",invoice_date:"",due_date:"",amount:"",status:"unpaid",notes:"",internal_notes:"",tax_rate:"0",discount:"0",payment_terms:"Net 30",items:[{description:"",quantity:1,rate:0}]}),N(!1)},onError:te=>{console.error("Validation errors:",te),alert("Error creating invoice. Check console for details.")}})},B=t=>{t.preventDefault(),g.get("/admin/invoices",r,{preserveState:!0,preserveScroll:!0})},H=()=>{m({status:"",client_key:"",date_from:"",date_to:"",amount_min:"",amount_max:""}),g.get("/admin/invoices")},K=()=>{i({...s,items:[...s.items,{description:"",quantity:1,rate:0}]})},Q=t=>{const a=s.items.filter((n,c)=>c!==t);i({...s,items:a})},_=(t,a,n)=>{const c=[...s.items];a==="quantity"||a==="rate"?c[t][a]=Number(n):c[t][a]=n,i({...s,items:c})},w=()=>s.items.reduce((t,a)=>t+(parseFloat(String(a.quantity))||0)*(parseFloat(String(a.rate))||0),0),W=()=>{const t=w(),a=t*(parseFloat(s.tax_rate)||0)/100,n=parseFloat(s.discount)||0;return t+a-n},D=t=>{if(x.length===0){alert("Please select invoices");return}g.post("/admin/invoices/bulk-update",{invoice_ids:x,status:t},{onSuccess:()=>S([])})},G=()=>{if(x.length===0){alert("Please select invoices");return}confirm(`Delete ${x.length} invoice(s)?`)&&g.post("/admin/invoices/bulk-delete",{invoice_ids:x},{onSuccess:()=>S([])})},J=()=>{window.location.href="/admin/invoices/export?"+new URLSearchParams(r).toString()},u=t=>`₱${(typeof t=="string"?parseFloat(t):t).toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2})}`,I=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),X=t=>({paid:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",unpaid:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",overdue:"bg-red-500/20 text-red-400 border-red-500/30",cancelled:"bg-gray-500/20 text-gray-400 border-gray-500/30"})[t]||"bg-gray-500/20 text-gray-400 border-gray-500/30";return e.jsx(oe,{children:e.jsx("div",{className:"min-h-screen pb-16 flex flex-col bg-[#050505] selection:bg-[#bfff07] selection:text-black",children:e.jsxs("main",{className:"flex-1 px-10 py-10 max-w-[1600px] mx-auto w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-10",children:[e.jsxs("div",{className:"flex items-center space-x-8",children:[e.jsx("button",{className:"p-3 bg-[#18181b] rounded-full text-gray-500 hover:text-white transition-all border border-white/5 active:scale-90",children:e.jsx(de,{size:22})}),e.jsx("h1",{className:"text-[56px] font-bold tracking-tighter leading-none text-white",children:"Invoices"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{className:"p-4 bg-[#18181b] rounded-[22px] text-gray-500 hover:text-white transition-all border border-white/5",children:e.jsx(ge,{size:22})}),e.jsxs(se,{open:E,onOpenChange:N,children:[e.jsx(ae,{asChild:!0,children:e.jsxs("button",{className:"flex items-center space-x-3 bg-[#18181b] text-white px-8 py-4.5 rounded-[22px] font-bold border border-white/5 hover:bg-[#27272a] transition-all shadow-xl group",children:[e.jsx(L,{size:22,className:"text-[#bfff07] group-hover:scale-110 transition-transform"}),e.jsx("span",{className:"text-[15px]",children:"Create an invoice"})]})}),e.jsxs(re,{className:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto bg-[#0a0a0a] border-white/10 text-white",children:[e.jsxs(le,{children:[e.jsx(ie,{className:"text-white",children:"Create New Invoice"}),e.jsx(ne,{className:"text-gray-400",children:"Fill in the details below to create a new invoice for a client."})]}),e.jsxs("form",{onSubmit:V,className:"space-y-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Select Client *"}),e.jsxs("select",{value:s.client_key,onChange:t=>i({...s,client_key:t.target.value}),className:"w-full px-3 py-2 border border-white/10 rounded-md bg-white/5 text-white",required:!0,children:[e.jsx("option",{value:"",children:"-- Select a client --"}),f&&f.length>0?f.map(t=>e.jsxs("option",{value:t.key,children:[t.name," (ID: ",t.id,")"]},t.id)):e.jsx("option",{value:"",disabled:!0,children:"No clients available"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Invoice Date *"}),e.jsx(o,{type:"date",value:s.invoice_date,onChange:t=>i({...s,invoice_date:t.target.value}),className:"bg-white/5 border-white/10 text-white",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Due Date *"}),e.jsx(o,{type:"date",value:s.due_date,onChange:t=>i({...s,due_date:t.target.value}),className:"bg-white/5 border-white/10 text-white",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Payment Terms"}),e.jsxs("select",{value:s.payment_terms,onChange:t=>i({...s,payment_terms:t.target.value}),className:"w-full px-3 py-2 border border-white/10 rounded-md bg-white/5 text-white",children:[e.jsx("option",{value:"Net 15",children:"Net 15"}),e.jsx("option",{value:"Net 30",children:"Net 30"}),e.jsx("option",{value:"Net 45",children:"Net 45"}),e.jsx("option",{value:"Net 60",children:"Net 60"}),e.jsx("option",{value:"Due on Receipt",children:"Due on Receipt"})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Invoice Items *"}),e.jsxs(y,{type:"button",variant:"outline",size:"sm",onClick:K,className:"border-white/10",children:[e.jsx(L,{className:"w-4 h-4 mr-1"}),"Add Item"]})]}),s.items.map((t,a)=>e.jsxs("div",{className:"border border-white/10 rounded-md p-3 mb-2 space-y-2 bg-white/5",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-300",children:["Item ",a+1]}),s.items.length>1&&e.jsx(y,{type:"button",variant:"ghost",size:"sm",onClick:()=>Q(a),children:e.jsx(P,{className:"w-4 h-4 text-red-400"})})]}),e.jsx(o,{placeholder:"Description (e.g., Website Development)",value:t.description,onChange:n=>_(a,"description",n.target.value),className:"bg-white/5 border-white/10 text-white",required:!0}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx(o,{type:"number",placeholder:"Qty",value:t.quantity,onChange:n=>_(a,"quantity",n.target.value),min:"0",step:"0.01",className:"bg-white/5 border-white/10 text-white",required:!0}),e.jsx(o,{type:"number",placeholder:"Rate (₱)",value:t.rate,onChange:n=>_(a,"rate",n.target.value),min:"0",step:"0.01",className:"bg-white/5 border-white/10 text-white",required:!0}),e.jsx(o,{value:u((t.quantity||0)*(t.rate||0)),disabled:!0,className:"bg-white/10 border-white/10 text-gray-400"})]})]},a))]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Tax Rate (%)"}),e.jsx(o,{type:"number",step:"0.01",placeholder:"0",value:s.tax_rate,onChange:t=>i({...s,tax_rate:t.target.value}),className:"bg-white/5 border-white/10 text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Discount (₱)"}),e.jsx(o,{type:"number",step:"0.01",placeholder:"0.00",value:s.discount,onChange:t=>i({...s,discount:t.target.value}),className:"bg-white/5 border-white/10 text-white"})]})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 p-4 rounded-md space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-300",children:[e.jsx("span",{children:"Subtotal:"}),e.jsx("span",{children:u(w())})]}),parseFloat(s.tax_rate)>0&&e.jsxs("div",{className:"flex justify-between text-sm text-gray-300",children:[e.jsxs("span",{children:["Tax (",s.tax_rate,"%):"]}),e.jsx("span",{children:u(w()*(parseFloat(s.tax_rate)/100))})]}),parseFloat(s.discount)>0&&e.jsxs("div",{className:"flex justify-between text-sm text-gray-300",children:[e.jsx("span",{children:"Discount:"}),e.jsxs("span",{children:["-",u(s.discount)]})]}),e.jsxs("div",{className:"flex justify-between font-bold text-lg pt-2 border-t border-white/10 text-white",children:[e.jsx("span",{children:"Total:"}),e.jsx("span",{className:"text-yellow-500",children:u(W())})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Status *"}),e.jsxs("select",{value:s.status,onChange:t=>i({...s,status:t.target.value}),className:"w-full px-3 py-2 border border-white/10 rounded-md bg-white/5 text-white",required:!0,children:[e.jsx("option",{value:"unpaid",children:"Unpaid"}),e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"overdue",children:"Overdue"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Notes (Visible to Client)"}),e.jsx(A,{placeholder:"Add any notes about this invoice...",value:s.notes,onChange:t=>i({...s,notes:t.target.value}),rows:2,className:"bg-white/5 border-white/10 text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Internal Notes (Private)"}),e.jsx(A,{placeholder:"Internal notes not visible to client...",value:s.internal_notes,onChange:t=>i({...s,internal_notes:t.target.value}),rows:2,className:"bg-white/5 border-white/10 text-white"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(y,{type:"button",variant:"outline",onClick:()=>N(!1),className:"border-white/10",children:"Cancel"}),e.jsx(y,{type:"submit",className:"bg-yellow-500 text-black hover:bg-yellow-400",children:"Create Invoice"})]})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-10",children:[e.jsxs("div",{className:"lg:col-span-2  rounded-[45px] p-10 relative border border-white/5",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-12",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-[13px] font-medium mb-3",children:"Overdue"}),e.jsxs("h3",{className:"text-[44px] font-bold tracking-tight leading-none text-white",children:[e.jsx("span",{className:"text-gray-500 text-[26px] mr-1 font-normal",children:"₱"}),j.overdue_amount.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-[13px] font-medium mb-3",children:"Due within next month"}),e.jsxs("h3",{className:"text-[44px] font-bold tracking-tight leading-none text-white",children:[e.jsx("span",{className:"text-gray-500 text-[26px] mr-1 font-normal",children:"₱"}),j.pending_amount.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-[13px] font-medium mb-3",children:"Average time to get paid"}),e.jsxs("h3",{className:"text-[44px] font-bold tracking-tight leading-none text-white",children:["12 ",e.jsx("span",{className:"text-xl font-normal text-gray-500 ml-1",children:"days"})]})]})]}),e.jsxs("div",{className:"mt-14 relative",children:[e.jsxs("div",{className:"flex justify-between text-[11px] font-bold text-gray-600 mb-6 uppercase tracking-[0.15em]",children:[e.jsx("span",{children:"Sep"}),e.jsx("span",{children:"Oct"}),e.jsx("span",{children:"Nov"}),e.jsx("span",{children:"Dec"})]}),e.jsxs("div",{className:"h-[2px] bg-gray-800 rounded-full relative flex items-center",children:[e.jsx("div",{className:"absolute left-0 w-[24%] h-[6px] bg-[#bfff07] rounded-full shadow-[0_0_20px_rgba(191,255,7,0.3)]"}),e.jsx("div",{className:"absolute left-[26%] w-[24%] h-[6px] bg-[#bfff07] rounded-full shadow-[0_0_20px_rgba(191,255,7,0.3)]"}),e.jsx("div",{className:"absolute left-[52%] w-[33%] h-[6px] bg-[#bfff07] rounded-full shadow-[0_0_20px_rgba(191,255,7,0.3)]"}),e.jsx("div",{className:"absolute right-[5%] w-5 h-5 bg-[#bfff07] rounded-full border-[5px] border-[#18181b] shadow-lg"})]}),e.jsxs("div",{className:"flex justify-between mt-8",children:[e.jsx("div",{className:"flex -space-x-3",children:[1,2,3,4,5].map(t=>e.jsx("img",{src:`https://picsum.photos/seed/${t+50}/60/60`,className:"w-10 h-10 rounded-full border-[3px] border-[#18181b] grayscale hover:grayscale-0 transition-all cursor-pointer",alt:"user"},t))}),e.jsxs("div",{className:"flex -space-x-3",children:[[6,7,8].map(t=>e.jsx("img",{src:`https://picsum.photos/seed/${t+60}/60/60`,className:"w-10 h-10 rounded-full border-[3px] border-[#18181b] grayscale hover:grayscale-0 transition-all cursor-pointer",alt:"user"},t)),e.jsx("div",{className:"w-10 h-10 rounded-full bg-[#27272a] border-[3px] border-[#18181b] flex items-center justify-center text-[11px] font-bold text-gray-500",children:"+12"})]}),e.jsx("div",{className:"flex -space-x-3",children:[9,10].map(t=>e.jsx("img",{src:`https://picsum.photos/seed/${t+70}/60/60`,className:"w-10 h-10 rounded-full border-[3px] border-[#18181b] grayscale hover:grayscale-0 transition-all cursor-pointer",alt:"user"},t))})]})]})]}),e.jsxs("div",{className:"bg-[#18181b] rounded-[45px] p-10 flex flex-col justify-between relative border border-white/5",children:[e.jsx("button",{className:"absolute top-8 right-8 p-3 bg-[#27272a] rounded-full hover:bg-white hover:text-black transition-all",children:e.jsx($,{size:22})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-[13px] font-medium mb-3",children:"Available for Instant Payout"}),e.jsxs("div",{className:"flex items-end space-x-3",children:[e.jsxs("h3",{className:"text-[44px] font-bold tracking-tight leading-none text-white",children:[e.jsx("span",{className:"text-gray-500 text-[26px] mr-1 font-normal",children:"₱"}),j.total_revenue.toLocaleString()]}),e.jsx("span",{className:"bg-[#27272a] text-gray-400 px-3.5 py-1.5 rounded-full text-[11px] font-bold uppercase tracking-wider mb-1",children:"Expects"})]})]}),e.jsxs("div",{className:"mt-10 grid grid-cols-3 gap-3.5",children:[e.jsxs("div",{className:"bg-[#27272a]/40 p-5 rounded-[28px] border border-white/5",children:[e.jsx("p",{className:"text-gray-600 text-[10px] font-bold mb-4",children:"*4443"}),e.jsx("p",{className:"text-[11px] font-bold uppercase tracking-widest text-gray-300 italic",children:"Visa"})]}),e.jsxs("div",{className:"bg-[#bfff07] p-5 rounded-[28px] shadow-[0_10px_30px_-5px_rgba(191,255,7,0.3)]",children:[e.jsx("p",{className:"text-black/60 text-[10px] font-bold mb-4",children:"#177210"}),e.jsx("p",{className:"text-[11px] font-bold uppercase tracking-widest text-black italic",children:"Stripe"})]}),e.jsxs("div",{className:"bg-[#27272a]/40 p-5 rounded-[28px] border border-white/5",children:[e.jsx("p",{className:"text-gray-600 text-[10px] font-bold mb-4",children:"#711221"}),e.jsx("p",{className:"text-[11px] font-bold uppercase tracking-widest text-gray-300 italic",children:"PayPal"})]})]}),e.jsx("button",{className:"w-full mt-8 bg-white text-black py-5 rounded-full text-sm font-bold hover:brightness-90 transition-all shadow-xl",children:"Pay out now"})]})]}),e.jsxs("div",{className:"flex items-center space-x-5 mb-10",children:[e.jsxs("div",{className:"flex items-center space-x-3 mr-4",children:[e.jsx("span",{className:"text-[11px] font-bold uppercase tracking-[0.2em] text-gray-600",children:"Active filters"}),e.jsx("span",{className:"w-7 h-7 bg-[#bfff07] text-black text-[12px] font-black rounded-full flex items-center justify-center shadow-lg",children:Object.values(r).filter(t=>t).length})]}),e.jsxs("div",{className:"flex space-x-3.5 flex-1 items-center",children:[e.jsxs("button",{onClick:()=>M(!C),className:"flex items-center space-x-3 bg-[#18181b] px-6 py-4 rounded-[22px] text-[13px] font-bold text-gray-400 whitespace-nowrap border border-white/5 hover:border-white/20 transition-all hover:text-white",children:[e.jsx("span",{children:"All statuses"}),e.jsx(q,{size:14})]}),e.jsxs("button",{className:"flex items-center space-x-3 bg-[#18181b] px-6 py-4 rounded-[22px] text-[13px] font-bold text-gray-400 whitespace-nowrap border border-white/5 hover:border-white/20 transition-all hover:text-white",children:[e.jsx("span",{children:"All customers"}),e.jsx(q,{size:14})]}),e.jsxs("button",{className:"flex items-center space-x-3 bg-[#18181b] px-6 py-4 rounded-[22px] text-[13px] font-bold text-gray-400 whitespace-nowrap border border-white/5 hover:border-white/20 transition-all hover:text-white",children:[e.jsx("span",{children:"November 2023"}),e.jsx(z,{size:14})]}),e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(ce,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-600",size:18}),e.jsx("input",{type:"text",placeholder:"Search invoice number, customer...",value:k,onChange:t=>U(t.target.value),className:"w-full bg-[#18181b] rounded-[22px] pl-14 pr-6 py-4 text-[14px] focus:outline-none focus:ring-2 focus:ring-[#bfff07]/30 border border-white/5 text-white placeholder:text-gray-700 transition-all"})]})]})]}),C&&e.jsx("div",{className:"bg-[#18181b] rounded-[35px] p-8 mb-10 border border-white/5",children:e.jsxs("form",{onSubmit:B,className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-400",children:"Status"}),e.jsxs("select",{value:r.status,onChange:t=>m({...r,status:t.target.value}),className:"w-full px-4 py-3 border border-white/10 rounded-2xl bg-[#27272a] text-white focus:ring-2 focus:ring-[#bfff07]/30",children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"unpaid",children:"Unpaid"}),e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"overdue",children:"Overdue"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-400",children:"Client"}),e.jsxs("select",{value:r.client_key,onChange:t=>m({...r,client_key:t.target.value}),className:"w-full px-4 py-3 border border-white/10 rounded-2xl bg-[#27272a] text-white focus:ring-2 focus:ring-[#bfff07]/30",children:[e.jsx("option",{value:"",children:"All Clients"}),f.map(t=>e.jsx("option",{value:t.key,children:t.name},t.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-400",children:"Date From"}),e.jsx(o,{type:"date",value:r.date_from,onChange:t=>m({...r,date_from:t.target.value}),className:"bg-[#27272a] border-white/10 text-white rounded-2xl focus:ring-2 focus:ring-[#bfff07]/30"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-400",children:"Date To"}),e.jsx(o,{type:"date",value:r.date_to,onChange:t=>m({...r,date_to:t.target.value}),className:"bg-[#27272a] border-white/10 text-white rounded-2xl focus:ring-2 focus:ring-[#bfff07]/30"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-400",children:"Amount Min (₱)"}),e.jsx(o,{type:"number",step:"0.01",value:r.amount_min,onChange:t=>m({...r,amount_min:t.target.value}),className:"bg-[#27272a] border-white/10 text-white rounded-2xl focus:ring-2 focus:ring-[#bfff07]/30"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-400",children:"Amount Max (₱)"}),e.jsx(o,{type:"number",step:"0.01",value:r.amount_max,onChange:t=>m({...r,amount_max:t.target.value}),className:"bg-[#27272a] border-white/10 text-white rounded-2xl focus:ring-2 focus:ring-[#bfff07]/30"})]}),e.jsxs("div",{className:"md:col-span-3 flex justify-end gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:H,className:"px-6 py-3 bg-[#27272a] border border-white/10 rounded-full text-sm font-bold text-gray-400 hover:text-white transition-all",children:"Clear Filters"}),e.jsx("button",{type:"submit",className:"px-8 py-3 bg-[#bfff07] text-black rounded-full text-sm font-bold hover:brightness-110 transition-all shadow-[0_10px_30px_-5px_rgba(191,255,7,0.3)]",children:"Apply Filters"})]})]})}),x.length>0&&e.jsxs("div",{className:"bg-[#bfff07]/10 border border-[#bfff07]/20 p-6 rounded-[35px] flex items-center justify-between backdrop-blur-xl mb-10",children:[e.jsxs("span",{className:"text-sm font-bold text-white",children:[x.length," invoice(s) selected"]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>D("paid"),className:"flex items-center gap-2 px-5 py-3 bg-white/5 border border-white/10 rounded-full text-sm font-bold hover:bg-white/10 transition-all",children:[e.jsx(xe,{className:"w-4 h-4 text-emerald-400"}),"Mark Paid"]}),e.jsx("button",{onClick:()=>D("unpaid"),className:"px-5 py-3 bg-white/5 border border-white/10 rounded-full text-sm font-bold hover:bg-white/10 transition-all",children:"Mark Unpaid"}),e.jsxs("button",{onClick:G,className:"flex items-center gap-2 px-5 py-3 bg-white/5 border border-red-500/30 rounded-full text-sm font-bold hover:bg-red-500/10 transition-all text-red-400",children:[e.jsx(P,{className:"w-4 h-4"}),"Delete"]})]})]}),e.jsxs("div",{className:"bg-white rounded-[60px] overflow-hidden flex flex-col min-h-[850px] shadow-[0_50px_100px_-20px_rgba(0,0,0,0.5)] border border-white/10",children:[e.jsxs("div",{className:"flex items-center justify-center pt-8 pb-4 relative z-10",children:[e.jsxs("div",{className:"bg-[#0c0c0e] p-2 rounded-full flex space-x-1 shadow-2xl border border-white/5",children:[e.jsx("button",{className:"px-8 py-3.5 text-[13px] font-bold text-gray-500 hover:text-white transition-all",children:"All Invoices"}),e.jsxs("button",{className:"px-8 py-3.5 text-[13px] font-bold text-gray-500 hover:text-white flex items-center space-x-3 group",children:[e.jsx("span",{children:"Draft"}),e.jsx("span",{className:"text-[10px] bg-gray-800 text-gray-500 px-2 py-0.5 rounded-md group-hover:bg-gray-700 transition-colors",children:"3"})]}),e.jsxs("button",{className:"px-10 py-3.5 text-[13px] font-black text-black bg-[#bfff07] rounded-full flex items-center space-x-3 shadow-[0_8px_30px_rgba(191,255,7,0.4)]",children:[e.jsx("span",{className:"uppercase tracking-widest",children:"Unpaid"}),e.jsx("span",{className:"text-[10px] bg-black/20 px-2 py-0.5 rounded-md",children:j.unpaid_invoices})]})]}),e.jsxs("div",{className:"absolute right-12 top-1/2 -translate-y-1/2 flex items-center space-x-3",children:[e.jsx("button",{onClick:J,className:"p-3 bg-gray-50 hover:bg-gray-100 rounded-full text-black transition-colors",children:e.jsx(me,{size:22})}),e.jsx("button",{className:"p-3 bg-gray-50 hover:bg-gray-100 rounded-full text-black transition-colors",children:e.jsx(he,{size:22})})]})]}),e.jsxs("div",{className:"flex-1 flex p-10 gap-10",children:[e.jsxs("div",{className:"w-[38%] flex flex-col",children:[e.jsxs("h2",{className:"text-[26px] font-black text-black mb-10 tracking-tight flex items-center",children:["Unpaid Invoices",e.jsx("div",{className:"ml-4 h-[2px] flex-1 bg-gray-100 rounded-full"})]}),e.jsx("div",{className:"space-y-4 pr-4 overflow-y-auto max-h-[700px]",children:v.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(T,{className:"w-12 h-12 opacity-20 mx-auto mb-3 text-gray-400"}),e.jsx("p",{className:"text-sm text-gray-500",children:"No invoices found"})]}):v.map(t=>e.jsxs("div",{onClick:()=>O(t.id),className:`group flex items-center justify-between p-5 rounded-[30px] cursor-pointer transition-all duration-300 border ${d===t.id?"bg-[#18181b] border-white/5 text-white shadow-2xl scale-[1.02]":"border-transparent text-gray-900 hover:bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`w-11 h-11 rounded-full flex items-center justify-center font-bold text-sm ${d===t.id?"bg-[#bfff07] text-black":"bg-gray-100 text-gray-600"}`,children:t.client_key_id||"N/A"}),e.jsxs("div",{children:[e.jsxs("p",{className:`text-sm font-bold ${d===t.id?"text-white":"text-black"}`,children:["#",t.invoice_number]}),e.jsxs("p",{className:`text-[11px] font-medium ${d===t.id?"text-gray-500":"text-gray-400"}`,children:["Due ",I(t.due_date)]})]})]}),e.jsxs("div",{className:"flex items-center space-x-10",children:[e.jsx("span",{className:`px-4 py-1.5 rounded-full text-[10px] font-bold uppercase tracking-widest ${t.id===d?"bg-white text-black":"bg-gray-100 text-gray-500 group-hover:bg-gray-200"}`,children:t.status}),e.jsx("div",{className:"text-right min-w-[110px]",children:e.jsxs("p",{className:`text-[15px] font-bold ${d===t.id?"text-white":"text-black"}`,children:[e.jsx("span",{className:`${d===t.id?"text-gray-500":"text-gray-400"} mr-1 font-normal`,children:"₱"}),parseFloat(t.amount).toLocaleString()]})})]})]},t.id))})]}),e.jsx("div",{className:"flex-1",children:l?e.jsxs("div",{className:"bg-[#18181b] rounded-[45px] p-10 h-full flex flex-col border border-white/5 text-white",children:[e.jsx("div",{className:"flex items-start justify-between mb-14",children:e.jsxs("div",{className:"flex space-x-14",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-[0.2em] font-bold mb-4",children:"Invoice details"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("h2",{className:"text-[32px] font-bold text-gray-500",children:["# ",e.jsx("span",{className:"text-white",children:l.invoice_number})]}),e.jsx("span",{className:`px-4 py-1.5 rounded-full text-[10px] font-bold uppercase tracking-widest ${X(l.status)}`,children:l.status})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-[0.2em] font-bold mb-4",children:"Client ID"}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsx("span",{className:"text-[28px] font-bold tracking-tight",children:l.client_key_id||"N/A"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-[0.2em] font-bold mb-4",children:"Due Date"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[14px] font-bold",children:I(l.due_date)}),e.jsx("p",{className:"text-[10px] text-gray-500 font-semibold uppercase tracking-wider",children:l.is_overdue?"OVERDUE":"ON TIME"})]})]})]})}),e.jsx("div",{className:"grid grid-cols-4 gap-4 mb-10",children:l.items&&l.items.length>0?l.items.map((t,a)=>e.jsxs("div",{className:"bg-[#27272a]/30 p-7 rounded-[32px] border border-white/5 hover:bg-[#27272a]/50 transition-all group cursor-pointer",children:[e.jsxs("div",{className:"flex justify-between items-start mb-10",children:[e.jsxs("p",{className:"text-[22px] font-bold tracking-tight",children:[e.jsx("span",{className:"text-gray-500 text-[15px] mr-1 font-normal leading-none",children:"₱"}),(parseFloat(t.quantity)*parseFloat(t.rate)).toLocaleString()]}),e.jsx($,{size:18,className:"text-gray-600 group-hover:text-white transition-colors"})]}),e.jsx("p",{className:"text-[11px] text-gray-400 font-bold uppercase tracking-wider",children:t.description})]},a)):e.jsx("div",{className:"col-span-4 text-center py-8",children:e.jsx("p",{className:"text-gray-500",children:"No items available"})})}),e.jsxs("div",{className:"mt-auto flex items-center justify-between border-t border-white/5 pt-10",children:[e.jsxs("div",{className:"flex space-x-16",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[11px] font-bold uppercase tracking-widest text-gray-500 mb-3",children:"Sub Total"}),e.jsxs("p",{className:"text-[26px] font-bold tracking-tight text-white",children:[e.jsx("span",{className:"text-gray-500 text-lg mr-1 font-normal",children:"₱"}),parseFloat(l.subtotal||l.amount).toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[11px] font-bold uppercase tracking-widest text-gray-500 mb-3",children:"Total"}),e.jsxs("p",{className:"text-[26px] font-bold tracking-tight text-white",children:[e.jsx("span",{className:"text-gray-500 text-lg mr-1 font-normal",children:"₱"}),parseFloat(l.amount).toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[11px] font-bold uppercase tracking-widest text-gray-500 mb-3",children:"Balance Due"}),e.jsxs("p",{className:"text-[26px] font-bold tracking-tight text-[#bfff07]",children:[e.jsx("span",{className:"text-[#bfff07]/60 text-lg mr-1 font-normal",children:"₱"}),parseFloat(l.amount).toLocaleString()]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{className:"p-4.5 bg-[#27272a] rounded-[22px] text-gray-400 hover:text-white transition-all border border-white/5",children:e.jsx(be,{size:20})}),e.jsx("button",{className:"p-4.5 bg-[#27272a] rounded-[22px] text-gray-400 hover:text-white transition-all border border-white/5",children:e.jsx(z,{size:20})}),e.jsx(F,{href:`/admin/invoices/${l.id}`,children:e.jsx("button",{className:"bg-[#bfff07] text-black px-10 py-4.5 rounded-full font-bold text-sm shadow-[0_10px_30px_-5px_rgba(191,255,7,0.3)] hover:brightness-110 transition-all active:scale-95",children:"View Details"})})]})]})]}):e.jsx("div",{className:"bg-[#18181b] rounded-[45px] p-10 h-full flex items-center justify-center border border-white/5",children:e.jsxs("div",{className:"text-center",children:[e.jsx(T,{className:"w-16 h-16 text-gray-700 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Select an invoice to view details"})]})})})]})]}),b.last_page>1&&e.jsx("div",{className:"flex justify-center gap-2 mt-10",children:Array.from({length:b.last_page},(t,a)=>a+1).map(t=>e.jsx(F,{href:`/admin/invoices?page=${t}`,className:`px-5 py-3 border rounded-full transition-all font-bold text-sm ${t===b.current_page?"bg-[#bfff07] text-black border-[#bfff07] shadow-[0_10px_30px_-5px_rgba(191,255,7,0.3)]":"bg-[#18181b] border-white/10 text-gray-400 hover:border-white/20 hover:text-white"}`,children:t},t))})]})})})}export{Ve as default};
