import{a as F,r as p,j as e,H as f,b as l}from"./app-2bThjdGw.js";import{a as A,B as d}from"./createLucideIcon-Cj-60cLs.js";import{C as r,a as c,c as a}from"./card-CX17PSv1.js";import{B as b}from"./badge-BoL4EeKZ.js";import O from"./modal-Dy4_t0_h.js";import{A as N}from"./app-layout-3UNUYpGP.js";import{F as v,D as z,a as R,b as q,c as n,d as w}from"./app-sidebar-BTUOFd8O.js";import{p as j}from"./index-BFxOKshg.js";import{A as W,a as G,b as Y,c as J,d as Q,e as X,f as Z,g as ee}from"./alert-dialog-BbNZ9SL5.js";import{P as C}from"./plus--bGEC2ap.js";import{T as se}from"./trending-up-B_xNrws_.js";import{C as te}from"./calendar-Da2OhsI6.js";import{C as y}from"./clock-Dn2dRDL2.js";import{E as re}from"./ellipsis-vertical-DP4pCHhc.js";import{C as ae}from"./circle-check-BA47UdS_.js";import{C as le}from"./circle-BuDsbuES.js";import{U as ne}from"./users-BV5jS6kR.js";/* empty css            */import"./dialog-Ci460en-.js";import"./input-CRHbo_CQ.js";import"./label-Bb1y9hyw.js";import"./index-nJaiqGQS.js";import"./textarea-C2t_u44s.js";import"./select-BI5UQCWF.js";import"./index-BuMaAU40.js";import"./index-5F4qYVKl.js";import"./check-BNB34e7s.js";import"./app-sidebar-header-ZhWttKuU.js";import"./index-D329iiHL.js";import"./index-CMWG4mbA.js";import"./Logo-Cmirgiq5.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],k=A("ArrowRight",oe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],D=A("Key",ie);function $e(){const{projects:t,availableClientKeys:M,hasClientKeys:P}=F().props,[L,m]=p.useState(!1),[_,o]=p.useState(!1),[x,h]=p.useState(null);if(!P)return e.jsxs(N,{children:[e.jsx(f,{title:"Projects"}),e.jsx("div",{className:"min-h-screen",children:e.jsx("div",{className:"container mx-auto p-6 lg:p-8",children:e.jsxs("div",{className:"flex flex-col items-center justify-center h-[70vh] text-center",children:[e.jsx("div",{className:"rounded-full bg-amber-500/10 p-6 mb-6",children:e.jsx(D,{className:"w-16 h-16 text-amber-500"})}),e.jsx("h1",{className:"text-2xl font-bold mb-3",children:"No Client Keys Found"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-6 max-w-md",children:"You need to generate at least one client key before creating or managing projects."}),e.jsxs(d,{onClick:()=>l.visit("/admin/client-keys"),className:"gap-2",children:[e.jsx(D,{className:"h-4 w-4"}),"Go to Client Key Management"]})]})})})]});const S=s=>{switch(s.toLowerCase()){case"high":return"bg-red-500/10 text-red-400 border-red-500/20";case"medium":return"bg-amber-500/10 text-amber-400 border-amber-500/20";case"low":return"bg-blue-500/10 text-blue-400 border-blue-500/20";default:return"bg-slate-500/10 text-slate-400 border-slate-500/20"}},T=s=>{switch(s.toLowerCase()){case"completed":return"bg-emerald-500/10 text-emerald-400 border-emerald-500/20";case"in_progress":return"bg-amber-500/10 text-amber-400 border-amber-500/20";case"on_hold":return"bg-orange-500/10 text-orange-400 border-orange-500/20";case"planned":return"bg-blue-500/10 text-blue-400 border-blue-500/20";default:return"bg-slate-500/10 text-slate-400 border-slate-500/20"}},E=s=>s?new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Not set",H=s=>s.split("_").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join(" "),u=s=>{l.visit(`/admin/projects/${s}`)},g=(s,i)=>{l.put(j.update.url({project:s}),{status:i,_method:"PUT"},{preserveScroll:!0,onSuccess:()=>{}})},K=s=>{g(s,"completed")},U=s=>{g(s,"in_progress")},B=s=>{l.visit(j.edit.url({project:s}))},I=s=>{h(s),o(!0)},$=()=>{x!==null&&l.delete(j.destroy.url({project:x.id}),{onSuccess:()=>{o(!1),h(null)},onError:()=>{}})},V=()=>{o(!1),h(null)};return e.jsxs(N,{children:[e.jsx(f,{title:"Projects"}),e.jsx("div",{className:"min-h-screen",children:e.jsxs("div",{className:"container mx-auto p-6 lg:p-8 space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4 pb-6 border-b border-border/50",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Projects"}),e.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Manage and track all your projects"})]}),e.jsxs(d,{onClick:()=>m(!0),className:"gap-2",children:[e.jsx(C,{className:"h-4 w-4"}),"Create Project"]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(r,{children:[e.jsxs(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx("div",{className:"text-sm font-medium",children:"Total Projects"}),e.jsx(v,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(a,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.length}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"All projects"})]})]}),e.jsxs(r,{children:[e.jsxs(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx("div",{className:"text-sm font-medium",children:"Active"}),e.jsx(se,{className:"h-4 w-4 text-amber-500"})]}),e.jsxs(a,{children:[e.jsx("div",{className:"text-2xl font-bold text-amber-600",children:t.filter(s=>s.status==="in_progress").length}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"In progress"})]})]}),e.jsxs(r,{children:[e.jsxs(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx("div",{className:"text-sm font-medium",children:"Completed"}),e.jsx(te,{className:"h-4 w-4 text-emerald-500"})]}),e.jsxs(a,{children:[e.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:t.filter(s=>s.status==="completed").length}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Successfully finished"})]})]}),e.jsxs(r,{children:[e.jsxs(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx("div",{className:"text-sm font-medium",children:"Planned"}),e.jsx(y,{className:"h-4 w-4 text-blue-500"})]}),e.jsxs(a,{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.filter(s=>s.status==="planned").length}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Upcoming projects"})]})]})]}),e.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:t.length===0?e.jsx("div",{className:"col-span-full",children:e.jsx(r,{children:e.jsxs(a,{className:"text-center py-16 text-muted-foreground",children:[e.jsx(v,{className:"w-16 h-16 opacity-30 mx-auto mb-4"}),e.jsx("p",{className:"text-sm mb-4",children:"No projects yet"}),e.jsxs(d,{onClick:()=>m(!0),variant:"outline",className:"gap-2",children:[e.jsx(C,{className:"h-4 w-4"}),"Create your first project"]})]})})}):t.map(s=>e.jsx(r,{className:"hover:bg-background/50 transition-all group",children:e.jsxs(a,{className:"p-5",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-foreground text-base mb-2 line-clamp-2 group-hover:text-primary transition-colors cursor-pointer",onClick:()=>u(s.id),children:s.name}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx(b,{variant:"outline",className:`${T(s.status)} border text-[10px] px-2 py-0.5`,children:H(s.status)}),e.jsx(b,{variant:"outline",className:`${S(s.priority)} border text-[10px] px-2 py-0.5`,children:s.priority})]})]}),e.jsxs(z,{children:[e.jsx(R,{asChild:!0,children:e.jsx("button",{className:"text-muted-foreground hover:text-foreground transition-colors",children:e.jsx(re,{className:"w-4 h-4"})})}),e.jsxs(q,{align:"end",className:"w-48",children:[e.jsxs(n,{onClick:()=>u(s.id),children:[e.jsx(k,{className:"w-4 h-4 mr-2"}),"View Details"]}),e.jsxs(n,{onClick:()=>B(s.id),children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit Project"]}),e.jsx(w,{}),s.status!=="completed"?e.jsxs(n,{onClick:()=>K(s.id),className:"text-emerald-600",children:[e.jsx(ae,{className:"w-4 h-4 mr-2"}),"Mark as Completed"]}):e.jsxs(n,{onClick:()=>U(s.id),className:"text-amber-600",children:[e.jsx(le,{className:"w-4 h-4 mr-2"}),"Mark as In Progress"]}),e.jsx(w,{}),e.jsxs(n,{onClick:()=>I(s),className:"text-red-600",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Project"]})]})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-4 leading-relaxed",children:s.description||"No description provided."}),s.progress!==void 0&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs mb-2",children:[e.jsxs("span",{className:"text-muted-foreground",children:[s.tasks_count||0," Tasks"]}),e.jsxs("span",{className:"text-foreground font-semibold",children:[s.progress,"%"]})]}),e.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all duration-700 ${s.progress>=75?"bg-gradient-to-r from-emerald-500 to-teal-500":s.progress>=50?"bg-gradient-to-r from-amber-500 to-orange-500":"bg-gradient-to-r from-red-500 to-rose-500"}`,style:{width:`${s.progress}%`}})})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-border/50",children:[e.jsx("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(y,{className:"w-3 h-3"}),E(s.due_date)]})}),e.jsxs(d,{variant:"ghost",size:"sm",onClick:()=>u(s.id),className:"gap-1 h-8 text-xs hover:text-primary group/btn",children:["View Details",e.jsx(k,{className:"w-3 h-3 group-hover/btn:translate-x-1 transition-transform"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-3 pt-3 border-t border-border/50",children:[e.jsx(ne,{className:"w-3.5 h-3.5 text-muted-foreground"}),e.jsxs("div",{className:"flex -space-x-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 border-2 border-background flex items-center justify-center text-white text-[10px] font-medium",title:"Admin",children:"A"}),e.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-emerald-500 to-teal-500 border-2 border-background flex items-center justify-center text-white text-[10px] font-medium",title:"Client",children:"C"})]}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"2 members"})]})]})},s.id))})]})}),e.jsx(O,{open:L,setOpen:m,availableClientKeys:M}),e.jsx(W,{open:_,onOpenChange:o,children:e.jsxs(G,{children:[e.jsxs(Y,{children:[e.jsx(J,{children:"Confirm Deletion"}),e.jsxs(Q,{children:['Are you sure you want to delete the project "',x?.name,'"? This action cannot be undone.']})]}),e.jsxs(X,{children:[e.jsx(Z,{onClick:V,children:"Cancel"}),e.jsx(ee,{onClick:$,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})}export{$e as default};
