import{r as C,u as F,c as D,j as e,H as E,b as u}from"./app-Dn-0JBoO.js";import{a as H,B as v}from"./createLucideIcon-qr-J77uC.js";import{C as n,a as o,b as m,d as x,c}from"./card-DwEFqzkf.js";import{I as h}from"./input-BxOmVIfl.js";import{L as r}from"./label-CBx5FSSk.js";import{T as L}from"./textarea-OHNRsEnk.js";import{S as f,a as g,b as y,c as N,d as l}from"./select-mOcS378H.js";import{A as I}from"./app-layout-CQwwRmb4.js";import{p,X as M}from"./index-C9PCvTrL.js";import{A as T}from"./arrow-left-Cf_GGwwX.js";/* empty css            */import"./index-D0FT6mkM.js";import"./index-DskvR1mh.js";import"./index-CwPtzDDM.js";import"./check-9woK3xOM.js";import"./app-sidebar-C6rag8Wo.js";import"./index-D329iiHL.js";import"./index-CMWG4mbA.js";import"./Logo-Cmirgiq5.js";import"./app-sidebar-header-TgO648J6.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],B=H("Save",V);function re({project:a}){const[b,S]=C.useState([]),{data:d,setData:i,post:k,processing:j,errors:t}=F({name:a.name||"",description:a.description||"",status:a.status||"planned",start_date:a.start_date||"",due_date:a.due_date||"",priority:a.priority||"medium",client_key_id:a.client_key_id||"",file:null,_method:"PUT"});C.useEffect(()=>{D.get("/admin/client-keys/list").then(s=>{S(s.data)})},[]);const w=s=>{s.preventDefault(),k(p.update.url({project:a.id}),{onSuccess:()=>{u.visit(p.show.url({project:a.id}))}})},P=()=>{u.visit(p.show.url({project:a.id}))};return e.jsxs(I,{children:[e.jsx(E,{title:`Edit ${a.name}`}),e.jsx("div",{className:"min-h-screen",children:e.jsxs("div",{className:"container mx-auto p-6 lg:p-8 space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs(v,{variant:"ghost",size:"sm",onClick:()=>u.visit(p.show.url({project:a.id})),className:"w-fit gap-2 hover:bg-muted",children:[e.jsx(T,{className:"h-4 w-4"}),"Back to Project"]}),e.jsx("div",{className:"flex items-start justify-between gap-4 flex-wrap pb-6 border-b border-border/50",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Edit Project"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Update project information and settings"})]})})]}),e.jsx("form",{onSubmit:w,className:"space-y-6",children:e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(n,{children:[e.jsxs(o,{children:[e.jsx(m,{children:"Basic Information"}),e.jsx(x,{children:"Update the core details of your project"})]}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"client_key_id",children:"Client Key"}),e.jsxs(f,{value:d.client_key_id,onValueChange:s=>i("client_key_id",s),children:[e.jsx(g,{children:e.jsx(y,{placeholder:"Select a client key"})}),e.jsx(N,{children:b.map(s=>e.jsx(l,{value:s.key,children:s.key},s.id))})]}),t.client_key_id&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.client_key_id})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"name",children:"Project Name"}),e.jsx(h,{id:"name",value:d.name,onChange:s=>i("name",s.target.value),placeholder:"Enter project name",required:!0}),t.name&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:t.name})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"description",children:"Description"}),e.jsx(L,{id:"description",value:d.description,onChange:s=>i("description",s.target.value),placeholder:"Describe your project...",rows:6}),t.description&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:t.description})]})]})]}),e.jsxs(n,{children:[e.jsxs(o,{children:[e.jsx(m,{children:"Project Timeline"}),e.jsx(x,{children:"Set the start and end dates for this project"})]}),e.jsx(c,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"start_date",children:"Start Date"}),e.jsx(h,{id:"start_date",type:"date",value:d.start_date,onChange:s=>i("start_date",s.target.value)}),t.start_date&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:t.start_date})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"due_date",children:"Due Date"}),e.jsx(h,{id:"due_date",type:"date",value:d.due_date,onChange:s=>i("due_date",s.target.value)}),t.due_date&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:t.due_date})]})]})})]}),e.jsxs(n,{children:[e.jsxs(o,{children:[e.jsx(m,{children:"Project File"}),e.jsx(x,{children:"Upload or update the project file"})]}),e.jsxs(c,{className:"space-y-4",children:[a.file&&e.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Current file:"}),e.jsx("p",{className:"text-sm font-medium break-all",children:a.file.split("/").pop()})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"file",children:"Upload New File (optional)"}),e.jsx(h,{id:"file",type:"file",onChange:s=>{const _=s.target.files?.[0];_&&i("file",_)}}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Max file size: 10MB. Leave empty to keep current file."}),t.file&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:t.file})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(n,{children:[e.jsxs(o,{children:[e.jsx(m,{children:"Status & Priority"}),e.jsx(x,{children:"Configure project status and priority level"})]}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(r,{children:"Status"}),e.jsxs(f,{value:d.status,onValueChange:s=>i("status",s),children:[e.jsx(g,{children:e.jsx(y,{placeholder:"Select status"})}),e.jsxs(N,{children:[e.jsx(l,{value:"planned",children:"Planned"}),e.jsx(l,{value:"in_progress",children:"In Progress"}),e.jsx(l,{value:"on_hold",children:"On Hold"}),e.jsx(l,{value:"completed",children:"Completed"})]})]}),t.status&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:t.status})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Priority"}),e.jsxs(f,{value:d.priority,onValueChange:s=>i("priority",s),children:[e.jsx(g,{children:e.jsx(y,{placeholder:"Select priority"})}),e.jsxs(N,{children:[e.jsx(l,{value:"low",children:"Low"}),e.jsx(l,{value:"medium",children:"Medium"}),e.jsx(l,{value:"high",children:"High"})]})]}),t.priority&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:t.priority})]})]})]}),e.jsx(n,{className:"bg-muted/30",children:e.jsx(c,{className:"pt-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs(v,{type:"submit",disabled:j,className:"w-full gap-2",children:[e.jsx(B,{className:"h-4 w-4"}),j?"Saving...":"Save Changes"]}),e.jsxs(v,{type:"button",variant:"outline",onClick:P,className:"w-full gap-2",disabled:j,children:[e.jsx(M,{className:"h-4 w-4"}),"Cancel"]})]})})})]})]})})]})})]})}export{re as default};
